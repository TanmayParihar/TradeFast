# Multi-Modal Trading Strategy Configuration

strategy:
  name: multi_modal_hybrid
  version: 1.0.0
  description: "Multi-modal fusion strategy with meta-labeling"

signals:
  direction:
    source: ensemble
    threshold_long: 0.55
    threshold_short: 0.45
    min_confidence: 0.6

  filters:
    volatility:
      enabled: true
      min_atr_pct: 0.001
      max_atr_pct: 0.05
    trend:
      enabled: true
      use_adx: true
      min_adx: 20
    volume:
      enabled: true
      min_volume_ratio: 0.5
    regime:
      enabled: true
      use_volatility_regime: true

triple_barrier:
  profit_taking:
    multiplier: 2.0
    dynamic: true
    atr_multiplier: 2.5
  stop_loss:
    multiplier: 1.0
    dynamic: true
    atr_multiplier: 1.5
  max_holding:
    bars: 240
    hours: 4
  volatility:
    span: 1440
    min_vol: 0.0001

meta_labeling:
  enabled: true
  confidence_threshold: 0.6
  features:
    - ensemble_confidence
    - volatility_regime
    - trend_strength
    - volume_profile
    - time_features

position_sizing:
  method: kelly
  kelly_fraction: 0.5
  max_position_pct: 0.1
  min_position_pct: 0.01

  constraints:
    max_leverage: 3
    max_notional: 50000
    min_notional: 100

portfolio:
  max_positions: 5
  correlation_limit: 0.7
  sector_limits:
    major: 0.5
    altcoin: 0.3
    meme: 0.2

  rebalance:
    enabled: true
    frequency: 1440
    threshold: 0.1

risk_management:
  position_level:
    stop_loss_pct: 0.02
    take_profit_pct: 0.04
    trailing_stop: false
    trailing_pct: 0.01

  portfolio_level:
    max_drawdown: 0.15
    daily_var_limit: 0.02
    position_timeout: 480

  circuit_breaker:
    enabled: true
    daily_loss_limit: 0.05
    consecutive_losses: 5
    cooldown_minutes: 60

execution:
  order_type: limit
  time_in_force: GTC
  max_slippage_bps: 5
  retry_attempts: 3
  retry_delay_ms: 1000
